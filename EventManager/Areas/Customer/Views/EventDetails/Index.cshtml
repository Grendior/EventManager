@model EventDetailsVM

<a class="btn btn-secondary" asp-area="Customer" asp-controller="EventParticipants" asp-action="Index"><i class="bi bi-arrow-left"></i> Back to List</a>

<h2>
    @Model.Event.Title
</h2>


<div class="contianer">
    @Html.Raw(Model.Event.Description)
</div>


@if (User.IsInRole(SD.Role_Admin) && Model.Participants != null)
{
    <partial id="event-participants-table-pv" name="_EventParticipantsTable" model="Model.Participants" />
}

@section Scripts {
    <script type="text/javascript">
        function changeParticipationStatus(participationId, status) {
            $.ajax({
                type: 'PUT',
                url: '/Customer/EventDetails/ChangeParticipationStatus',
                contentType: 'application/x-www-form-urlencoded; charset=UTF-8',
                data: { participationId: participationId, status: status },
                success: function (result) {
                    location.reload();
                },
                error: function () {
                    alert('Failed to change status');
                }
            })
        }
    </script>
}